**Semana 5‚Äì 6 ‚Äì Object Storage e Connectors Mock (Instagram/WhatsApp)**

**Objetivo:**

Estender o sistema com suporte a envio de arquivos (at√© 2 GB) e simular
integra√ß√£o multiplataforma com _connectors mock_ que representam APIs
externas.

**Atividades:**

1. **Implementar upload e armazenamento de arquivos**
    o Adotar Object Storage (MinIO / S3).
    o Implementar upload multipart (resumable).
    o Registrar metadados no banco (file_id, checksum, tamanho,
       uploader, conversation_id).
    o Permitir download via URL tempor√°ria (presigned URL).
2. **Adicionar suporte a mensagens com anexos**
    o API POST /v1/messages aceita payload com type: "file" e file_id.
3. **Criar connectors mock**
    o Criar servi√ßo connector_whatsapp_mock e
       connector_instagram_mock.
    o Cada connector deve:
       ‚ñ™ Receber mensagens de um t√≥pico Kafka espec√≠fico.

```
‚ñ™ Simular envio com logs ([WhatsApp] Entregue a usu√°rio X).
‚ñ™ Retornar callback simulando entrega/leitura.
o Implementar endpoints para receber mensagens simuladas desses
canais.
```
4. **Controle de status da mensagem**
    o Implementar transi√ß√µes autom√°ticas: SENT ‚Üí DELIVERED ‚Üí READ
       (simulado).
    o Atualizar status no banco e notificar via websocket ou webhook
       (callback HTTP).
5. **Testes integrados**


```
o Enviar mensagens e arquivos via API, verificar armazenamento e
logs dos connectors mock.
o Testar m√∫ltiplos usu√°rios conectados simultaneamente.
```
6. **Documenta√ß√£o**
    o Atualizar OpenAPI com endpoints de upload e novos campos.
    o Registrar no relat√≥rio t√©cnico os fluxos de entrega e leitura.

**Entregas esperadas:**

- Object Storage funcional (upload/download).
- Connectors mock operacionais.
- Mensagens com arquivos e estados funcionando.
- Demonstra√ß√£o de fluxo completo de envio/entrega/leitura simulada.
- Logs e capturas de tela no relat√≥rio t√©cnico.

üóì **Semana 7‚Äì 8 ‚Äì Testes de Carga, Monitoramento e Relat√≥rio Final**

**Objetivo:**

Validar escalabilidade horizontal, toler√¢ncia a falhas e qualidade operacional da
plataforma Chat4All.

**Atividades:**

1. **Escalabilidade horizontal**
    o Executar m√∫ltiplas inst√¢ncias do router-worker e do connector.
    o Demonstrar aumento de throughput ao adicionar n√≥s.
    o Simular falha de um worker e observar redistribui√ß√£o autom√°tica de
       carga.
2. **Testes de carga**
    o Usar k6, Locust ou Gatling para simular m√∫ltiplos usu√°rios.
    o Gerar m√©tricas: mensagens/segundo, lat√™ncia m√©dia, erros.
    o Armazenar resultados e gr√°ficos.
3. **Monitoramento e observabilidade**
    o Integrar Prometheus e Grafana (ou similar).


```
o Expor m√©tricas dos servi√ßos:
‚ñ™ messages_processed_total, latency_ms, errors_total,
cpu_mem_usage.
o Criar dashboards b√°sicos com gr√°ficos em tempo real.
```
4. **Toler√¢ncia a falhas**
    o Derrubar propositalmente um n√≥ do middleware (worker/API).
    o Observar recupera√ß√£o e reprocessamento de mensagens.
    o Registrar comportamento no relat√≥rio.
5. **Relat√≥rio t√©cnico final**
    o Estrutura:
1. Introdu√ß√£o e objetivos.
2. Arquitetura final implementada.
3. Decis√µes t√©cnicas.
4. Testes de carga e m√©tricas coletadas.
5. Falhas simuladas e recupera√ß√£o.
6. Limita√ß√µes e melhorias futuras.
6. **Demonstra√ß√£o pr√°tica**
o Mostrar fluxo: usu√°rio envia mensagem ‚Üí persist√™ncia ‚Üí connector ‚Üí
callback de leitura.
o Exibir dashboards em tempo real durante a execu√ß√£o.
o Enviar arquivo grande (~1 GB) e comprovar estabilidade.

**Entregas esperadas:**

- Logs e relat√≥rios de teste de carga.
- Dashboards de m√©tricas (capturas ou exporta√ß√µes).
- Demonstra√ß√£o funcional de failover.
- Relat√≥rio t√©cnico completo e finalizado.
- V√≠deo curto da apresenta√ß√£o (opcional).


